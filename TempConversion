#include <iostream>
#include <iomanip>
#include <limits>
#include <cctype>

using namespace std;

bool readDouble(const char* prompt, double& out) 
{
    cout << prompt;
    if (cin >> out) return true;
    cin.clear();
    cin.ignore(numeric_limits<streamsize>::max(), '\n');
    cerr << "Invalid number. Please try again.\n";
    return false;
}

char readUnit() 
{
    cout << "Enter unit (C for Celsius, F for Fahrenheit, K for Kelvin): ";
    char u;
    if (!(cin >> u)) 
    {
        cin.clear();
        cin.ignore(numeric_limits<streamsize>::max(), '\n');
        return '\0';
    }
    return static_cast<char>(toupper(static_cast<unsigned char>(u)));
}

void convertFromC(double C, double& F, double& K) 
{
    F = (C * 9.0 / 5.0) + 32.0;
    K = C + 273.15;
}

void convertFromF(double F, double& C, double& K) 
{
    C = (F - 32.0) * 5.0 / 9.0;
    K = C + 273.15;
}

bool convertFromK(double K, double& C, double& F) 
{
    if (K < 0.0) return false; // invalid physics
    C = K - 273.15;
    F = (C * 9.0 / 5.0) + 32.0;
    return true;
}
